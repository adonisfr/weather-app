(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{27:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),s=a(10),r=a.n(s),i=(a(27),a(11)),l=a.n(i),o=Object(c.createContext)(),d=a.p+"static/media/place_white_24dp.fdb57be5.svg";function u(e){switch(e.code){case e.PERMISSION_DENIED:return"User denied the request for Geolocation.";case e.POSITION_UNAVAILABLE:return"Location information is unavailable.";case e.TIMEOUT:return"The request to get user location timed out.";case e.UNKNOWN_ERROR:return"An unknown error occurred.";default:return"ssssss"}}var x=a(0),j=function(){var e=Object(c.useContext)(o),t=e.weather,a=e.units,n=e.getCurrentWeatherByLatLon,s=e.setLocationMessage;Object(c.useEffect)((function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){var t=(null===e||void 0===e?void 0:e.coords)||{},a=t.latitude,c=t.longitude;n(a,c)}),(function(e){s(u(e))}))}),[]);var r,i,j=(null===t||void 0===t?void 0:t.weather)?null===t||void 0===t?void 0:t.weather[0]:{},m=j.icon,b=j.main,p=t?l.a.unix(t.dt).format("ddd D MMM"):"";return t?Object(x.jsxs)("div",{className:"flex flex-col items-center mb-6",children:[Object(x.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(m,"@4x.png"),alt:"icon"}),Object(x.jsxs)("div",{className:"flex flex-col space-y-12 items-center text-gray-100",children:[Object(x.jsxs)("div",{className:"",children:[Object(x.jsx)("span",{className:"text-6xl",children:null===t||void 0===t||null===(r=t.main)||void 0===r?void 0:r.temp}),Object(x.jsx)("sup",{className:"text-3xl ",children:"metric"===a?"\u2103":"\u2109"})]}),Object(x.jsx)("span",{className:"text-xl text-gray-200",children:b}),Object(x.jsxs)("span",{className:"text-sm text-gray-300",children:["Today - ",p]})]}),Object(x.jsxs)("div",{className:"flex space-x-2 items-center space-y-3",children:[Object(x.jsx)("img",{src:d,alt:"place",className:"h-4 mt-3"}),Object(x.jsx)("span",{className:"text-xs text-gray-400",children:"".concat(null===t||void 0===t?void 0:t.name," (").concat(null===t||void 0===t||null===(i=t.sys)||void 0===i?void 0:i.country,")")})]})]}):null},m=function(e){var t=e.title,a=e.value;return Object(x.jsxs)("div",{className:"flex flex-col items-center bg-gray-800 w-full lg:w-5/12 xl:w-64 py-3 px-2 my-2 mx-2",children:[Object(x.jsx)("p",{className:"text-sm text-gray-300 font-semibold mb-2",children:t}),"object"===typeof a?a:Object(x.jsx)("p",{className:"text-5xl text-gray-200 font-bold",children:a})]})};m.defaultProps={title:"",value:""};var b=m,p=function(e){var t=e.primaryText,a=e.secundaryText;return Object(x.jsxs)("div",{className:"flex flex-row space-x-1",children:[Object(x.jsx)("p",{className:"text-5xl text-gray-200 font-bold",children:t}),Object(x.jsx)("p",{className:"text-xl text-gray-400 font-semibold mt-2",children:a})]})};p.defaultProps={primaryText:"",secundaryText:""};var f=p,v=function(){var e,t,a=Object(c.useContext)(o),n=a.forecast,s=a.units,r=(null===n||void 0===n||null===(e=n.current)||void 0===e?void 0:e.uvi)||0,i=(null===n||void 0===n||null===(t=n.current)||void 0===t?void 0:t.wind_speed)||"",l="metric"===s?"meter/sec":"miles/hour",d=(null===n||void 0===n?void 0:n.current)||{},u=d.humidity,j=d.visibility,m=d.pressure;return n?Object(x.jsxs)("div",{className:"flex flex-col px-3",children:[Object(x.jsx)("p",{className:"text-gray-50 text-lg font-semibold mb-3 ml-8",children:" Today's HightLights"}),Object(x.jsxs)("div",{className:"flex flex-wrap sm:justify-center md:justify-start md:ml-5",children:[Object(x.jsx)(b,{title:"UV Index",value:r.toString()}),Object(x.jsx)(b,{title:"Wind Status",value:Object(x.jsx)(f,{primaryText:i.toString(),secundaryText:l})}),Object(x.jsx)(b,{title:"Humidity",value:Object(x.jsx)(f,{primaryText:u?u.toString():"",secundaryText:"%"})}),Object(x.jsx)(b,{title:"Visibility",value:Object(x.jsx)(f,{primaryText:j?j.toString():"",secundaryText:"metres"})}),Object(x.jsx)(b,{title:"Air Pressure",value:Object(x.jsx)(f,{primaryText:m?m.toString():"",secundaryText:"hPa"})})]})]}):null},h=a(6),g=a.p+"static/media/my_location_white_24dp.49003dd3.svg",O=a.p+"static/media/search_white_36dp.0dad544f.svg",y=function(){var e=Object(c.useState)(!1),t=Object(h.a)(e,2),a=t[0],n=t[1],s=Object(c.useContext)(o),r=s.locationMessage,i=s.getCurrentWeatherByCity,l=s.getCurrentWeatherByLatLon,d=s.setLocationMessage;return Object(x.jsxs)("div",{className:"py-5",children:[Object(x.jsxs)("div",{className:"flex justify-between px-3  space-x-3",children:[Object(x.jsxs)("div",{className:"flex border border-gray-500 border-opacity-30 px-1 py-1 rounded-2xl w-64",children:[Object(x.jsx)("img",{src:O,alt:"search",className:"h-5 mr-1 mt-1 opacity-50"}),Object(x.jsx)("input",{className:"bg-transparent focus:outline-none w-full text-gray-300",placeholder:"Search for place...",onKeyUp:function(e){13===e.keyCode&&""!==e.target.value&&i(e.target.value)}})]}),Object(x.jsx)("button",{className:"bg-gray-400 h-6 w-6 px-1 mt-1 rounded-full focus:outline-none ".concat(a?"opacity-50 cursor-not-allowed":""),onClick:function(){navigator.geolocation&&(n(!0),navigator.geolocation.getCurrentPosition((function(e){var t=(null===e||void 0===e?void 0:e.coords)||{},a=t.latitude,c=t.longitude;l(a,c),n(!1)}),(function(e){d(u(e)),n(!1)})))},type:"button",disabled:a,children:Object(x.jsx)("img",{src:g,className:"",alt:"location"})})]}),Object(x.jsx)("div",{className:"flex justify-center text-base text-red-500 text-opacity-90 font-semibold",children:r})]})},w=a(12),N=a.n(w),T=a(4),E=function(e,t){switch(t.type){case"GET_WEATHER":return Object(T.a)(Object(T.a)({},e),{},{weather:t.payload.weather,units:t.payload.units,locationMessage:""});case"GET_FORECAST":return Object(T.a)(Object(T.a)({},e),{},{forecast:t.payload.forecast,units:t.payload.units,locationMessage:""});case"LOCATION_MESSAGE":return Object(T.a)(Object(T.a)({},e),{},{locationMessage:t.payload});default:return e}},C=function(e){var t=e.children,a=Object(c.useReducer)(E,{weather:null,units:"metric",forecast:null,locationMessage:null}),n=Object(h.a)(a,2),s=n[0],r=n[1],i=function(e){r({type:"LOCATION_MESSAGE",payload:e})};return Object(x.jsx)(o.Provider,{value:{weather:s.weather,units:s.units,forecast:s.forecast,locationMessage:s.locationMessage,getCurrentWeatherByCity:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.units;N.a.get("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&units=").concat(t,"&appid=ca6c12c824777f7080f1c00f1d19b42a")).then((function(e){r({type:"GET_WEATHER",payload:{weather:e.data,units:t}})})).catch((function(e){var t,a;return i(null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)}))},getCurrentWeatherByLatLon:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.units;N.a.get("https://api.openweathermap.org/data/2.5/weather?lat=".concat(e,"&lon=").concat(t,"&units=").concat(a,"&appid=ca6c12c824777f7080f1c00f1d19b42a")).then((function(e){r({type:"GET_WEATHER",payload:{weather:e.data,units:a}})})).catch((function(e){return console.error(e)}))},getForecast:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.units;N.a.get("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(e,"&lon=").concat(t,"&exclude=hourly,minutely&units=").concat(a,"&appid=ca6c12c824777f7080f1c00f1d19b42a")).then((function(e){r({type:"GET_FORECAST",payload:{forecast:e.data,units:a}})})).catch((function(e){return console.error(e)}))},setLocationMessage:i},children:t})};C.defaultProps={children:""};var M=C,S=function(e){var t,a,n,s=e.item,r=Object(c.useContext)(o).units,i=(null===s||void 0===s?void 0:s.dt)?l.a.unix(s.dt).format("ddd, D MMM"):"",d=null===s||void 0===s||null===(t=s.weather[0])||void 0===t?void 0:t.icon;return Object(x.jsxs)("div",{className:"flex flex-col bg-gray-800 w-32 items-center text-sm text-gray-300 py-2 rounded-lg",children:[Object(x.jsx)("div",{children:i}),Object(x.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(d,"@2x.png"),alt:"icon"}),Object(x.jsxs)("div",{className:"text-md space-x-4 text-xs",children:[Object(x.jsxs)("span",{children:[(null===s||void 0===s||null===(a=s.temp)||void 0===a?void 0:a.max)||"","metric"===r?"\u2103":"\u2109"]}),Object(x.jsxs)("span",{children:[(null===s||void 0===s||null===(n=s.temp)||void 0===n?void 0:n.min)||"","metric"===r?"\u2103":"\u2109"]})]})]})};S.defaultProps={item:null};var _=S,L=function(e){var t=e.list;return Object(x.jsx)("div",{className:"flex flex-wrap justify-center 2xl:justify-start 2xl:ml-8",children:t.map((function(e,t){return Object(x.jsx)("div",{className:"mx-2 my-2",children:Object(x.jsx)(_,{item:e})},"".concat(t+1))}))})};L.defaultProps={list:[]};var A=L,P=function(){var e=Object(c.useContext)(o),t=e.weather,a=e.forecast,n=e.getForecast,s=(null===t||void 0===t?void 0:t.coord)||{},r=s.lat,i=s.lon;return Object(c.useEffect)((function(){r&&i&&n(r,i)}),[r,i]),Object(x.jsx)("div",{className:"bg-gray-900 py-5",children:Object(x.jsx)(A,{list:(null===a||void 0===a?void 0:a.daily)||[]})})},I=a(50),W=a(51),R=a(54),B=a(52),F=a(53),G=a(5),k=(a(47),Object(G.icon)({iconUrl:"marker-icon.png",iconSize:[16,24]})),U=function(e){var t=e.center;return Object(I.a)().setView(t),null},D=function(){var e=Object(c.useContext)(o).weather,t=(null===e||void 0===e?void 0:e.coord)||"",a=t.lat,n=t.lon;return a&&n?Object(x.jsx)("div",{className:"flex w-92 mx-5 my-5 sm:ml-10 2xl:w-1/2 2xl:mt-10",children:Object(x.jsxs)(W.a,{className:"h-64 w-full",center:[a,n],zoom:10,scrollWheelZoom:!1,children:[Object(x.jsx)(U,{center:[a,n]}),Object(x.jsx)(R.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a>',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object(x.jsx)(B.a,{icon:k,position:[a,n],children:Object(x.jsx)(F.a,{children:Object(x.jsx)("p",{children:(null===e||void 0===e?void 0:e.name)||""})})})]})}):null};var H=function(){return Object(x.jsx)(M,{children:Object(x.jsxs)("div",{className:"flex flex-col sm:flex-row bg-gray-800 h-screen",children:[Object(x.jsxs)("div",{className:"bg-black-600 w-full sm:w-auto",children:[Object(x.jsx)(y,{}),Object(x.jsx)(j,{})]}),Object(x.jsxs)("div",{className:"bg-gray-900 py-4 w-full sm:overflow-auto",children:[Object(x.jsx)(P,{}),Object(x.jsx)(v,{}),Object(x.jsx)(D,{})]})]})})},V=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,55)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),s(e),r(e)}))};r.a.render(Object(x.jsx)(n.a.StrictMode,{children:Object(x.jsx)(H,{})}),document.getElementById("root")),V()}},[[48,1,2]]]);
//# sourceMappingURL=main.e548d447.chunk.js.map